(function(c){var b=function(){},a=function(){};b.prototype={forcePoly:true,elements:[],init:function(){if(!this.browserRangeCompatible()||this.forcePoly){this.findRangeElements()}},browserRangeCompatible:function(){var d;d=document.createElement("input");d.setAttribute("type","range");return(d.type==="range")},findRangeElements:function(){var f,e,d;f=document.getElementsByTagName("input");for(e=0;e<f.length;e++){if(f[e].getAttribute("type")==="range"){d=new a();d.init(f[e]);this.elements.push(d)}}}};a.prototype={element:null,wrapper:null,bar:null,dot:null,isDragging:false,min:0,max:0,value:0,init:function(d){this.element=d;this.getMinMaxValue()},getMinMaxValue:function(){this.min=this.element.getAttribute("min");this.max=this.element.getAttribute("max");this.value=this.element.getAttribute("value");this.hideElement();this.createWrapper()},hideElement:function(){this.element.setAttribute("type","hidden")},createWrapper:function(){this.wrapper=document.createElement("div");this.wrapper.className="peerby-range-wrapper";this.element.parentNode.insertBefore(this.wrapper,this.element.nextSibling);this.createBar();this.createDot()},createBar:function(){this.bar=document.createElement("div");this.bar.className="peerby-range-bar";this.wrapper.appendChild(this.bar)},createDot:function(){var d=this;this.dot=document.createElement("div");this.dot.className="peerby-range-dot";this.wrapper.appendChild(this.dot);$(this.dot).on("mousedown",function(f){d.isDragging=true;return false});$(document).on("mouseup",function(f){d.isDragging=false;d.updateValue();return false});this.dragDetect();this.setDotPosition()},updateValue:function(){var d=0;d=Math.ceil(parseInt($(this.dot).css("left"))/($(this.wrapper).width()/this.max));this.value=d;this.element.value=d;$(this.element).trigger("change")},setDotPosition:function(){var d=($(this.wrapper).width()/parseInt(this.max))*parseInt(this.value);$(this.dot).css("left",this.getSafeNumber(d))},dragDetect:function(){var d=this,e;$(document).mousemove(function(f){if(d.isDragging){e=$(d.wrapper).offset();$(d.dot).css("left",d.getSafeNumber(f.pageX-e.left));d.updateValue()}})},getSafeNumber:function(d){return Math.min(Math.max(this.min,d),($(this.wrapper).width()-$(this.dot).width()))}};$(document).ready(function(){c.peerbyRangePolyfill=new b();c.peerbyRangePolyfill.init()})})(window);